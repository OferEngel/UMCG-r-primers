{
  "hash": "212e8a06617aae3a62cb6e20534462b1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Challenges\"\nformat:\n  html: \n    toc: false\n    section-divs: true\n    include-after-body: \n      - text: |\n          <script src=\"/js/progressive-reveal.js\"></script>\n\nengine: knitr\nfilters:\n  - webr\nwebr:\n  packages:\n    - babynames\n    - dplyr\n    - ggplot2\n  cell-options:\n    editor-font-scale: 0.85\n    fig-width: 6\n    fig-height: 3.7\n    out-width: \"70%\"\n---\n\n\n\n\n\n\n```{webr-r}\n#| context: setup\nnumber_ones <- babynames::babynames %>% \n  group_by(year, sex) %>% \n  mutate(rank = min_rank(desc(n))) %>% \n  filter(rank == 1, sex == \"M\") %>% \n  ungroup() %>% \n  distinct(name) %>% \n  .$name\n```\n\nApply your knowledge of dplyr to do the following two challenges.\n\n### Number Ones Challenge: boys\n\nHow many distinct boys names achieved a rank of Number 1 in any year?\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  group_by(year, sex) |> \n  mutate(rank = min_rank(desc(n))) |> \n  filter(rank == 1, sex == \"M\") |> \n  ungroup() |> \n  summarize(distinct = n_distinct(name))\n```\n\n:::\n\n### Number Ones Challenge: girls\n\nHow many distinct girls names achieved a rank of Number 1 in any year?\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  group_by(year, sex) |> \n  mutate(rank = min_rank(desc(n))) |> \n  filter(rank == 1, sex == \"F\") |> \n  ungroup() |> \n  summarize(distinct = n_distinct(name))\n```\n\n:::\n\n### Number Ones Challenge: Plot\n\n`number_ones` is a vector of every boys name to achieve a rank of one. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nnumber_ones\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"John\"    \"Robert\"  \"James\"   \"Michael\" \"David\"   \"Jacob\"   \"Noah\"   \n[8] \"Liam\"   \n```\n\n\n:::\n:::\n\n\n\n\nUse `number_ones` with `babynames` to recreate the plot below, which shows the popularity over time for every name in `number_ones`.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nbabynames |> \n  filter(name %in% number_ones, sex == \"M\") |> \n  ggplot() +\n    geom_line(aes(x = year, y = prop, color = name))\n```\n\n::: {.cell-output-display}\n![](05-challenges_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  filter(name %in% number_ones, sex == \"M\") |> \n  ggplot() +\n    geom_line(aes(x = year, y = prop, color = name))\n```\n\n:::\n\n\n### Name Diversity Challenge: number of unique names\n\nWhich gender uses more names?\n\nIn the chunk below, calculate and then plot the number of distinct names used each year for boys and girls. Place year on the x axis, the number of distinct names on they y axis and color the lines by sex.\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  group_by(year, sex) |> \n  summarize(n_names = n_distinct(name)) |> # or summarize(n_names = n())\n  ggplot() +\n    geom_line(aes(x = year, y = n_names, color = sex))\n```\n\n:::\n\n\n### Name Diversity Challenge: number of boys and girls\n\nLet's make sure that we're not confounding our search with the total number of boys and girls born each year. With the chunk below, calculate and then plot over time the total number of boys and girls by year. Is the relative number of boys and girls constant?\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  group_by(year, sex) |> \n  summarize(n = sum(n)) |> \n  ggplot() +\n    geom_line(aes(x = year, y = n, color = sex))\n```\n\n:::\n\n\n### Name Diversity Challenge: children per name\n\nHmm. Sometimes there are more girls and sometimes more boys. In addition, the entire population has been grown over time. Let's account for this with a new metric: the average number of children per name.\n\nIf girls have a smaller number of children per name, that would imply that they use more names overall (and vice versa).\n\nIn the chunk below, calculate and plot the average number of children per name by year and sex over time. How do you interpret the results?\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nbabynames |> \n  group_by(year, sex) |> \n  summarize(per_name = mean(n)) |> \n  ggplot() +\n    geom_line(aes(x = year, y = per_name, color = sex))\n```\n\n:::\n\n###\n\nGood job! In recent years, there are fewer girls (on average) given any particular name than boys. This suggests that there is more variety in girls names than boys names once you account for population. Interestingly, the number of children per name has gone down steeply for each gender since the 1960s, even though the total population has continued to increase. This suggests that there is a greater variety of names today than in the past.\n\n\n### Where to from here\n\nCongratulations! You can use {dplyr}'s grammar of data manipulation to access any data associated with a table---even if that data is not currently displayed by the table.\n\nIn other words, you now know how to look at data in R, as well as how to access specific values, calculate summary statistics, and compute new variables. When you combine this with the visualization skills that you learned in [Visualization Basics](/01-basics/01-visualization-basics/index.qmd), you have everything that you need to begin exploring data in R.\n\nThe next tutorial will teach you the last of three basic skills for working with R:\n\n1. How to visualize data\n1. How to work with data\n1. How to program with R code\n\n\n##\n\n\n\n\n::: {.cell layout-align=\"center\"}\n<section id=\"buttons\">\n<button id=\"continueButton\" class=\"btn btn-primary float-start me-2\">Continue</button>\n\n<button id=\"resetButton\" class=\"btn btn-outline-warning btn-sm float-end\">Start over</button>\n</section>\n:::\n",
    "supporting": [
      "05-challenges_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}