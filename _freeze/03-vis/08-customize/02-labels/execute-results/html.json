{
  "hash": "85cb7771c06a4b95835303f6f6e27a59",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Labels\"\nformat:\n  html: \n    toc: false\n    section-divs: true\n    include-after-body: \n      - text: |\n          <script src=\"/js/progressive-reveal.js\"></script>\n\nengine: knitr\nfilters:\n  - webr\nwebr:\n  packages:\n    - ggplot2\n  cell-options:\n    editor-font-scale: 0.85\n    fig-width: 6\n    fig-height: 3.7\n    out-width: \"70%\"\n---\n\n\n\n\n\n```{webr-r}\n#| context: setup\np <- ggplot(diamonds) +\n  geom_boxplot(mapping = aes(x = cut, y = price)) + \n  coord_cartesian(ylim = c(0, 7500))\n```\n\n### `labs()` {.no-hide}\n\nThe relationship in our plot is now easier to see, but that doesn't mean that everyone who sees our plot will spot it. We can draw their attention to the relationship with a label, like a title or a caption.\n\nTo do this, we will use the `labs()` function. You can think of `labs()` as an all purpose function for adding labels to a {ggplot2} plot.\n\n### Titles\n\nGive `labs()` a `title` argument to add a title.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + labs(title = \"The title appears here\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n### Subtitles\n\nGive `labs()` a `subtitle` argument to add a subtitle. If you use multiple arguments, remember to separate them with a comma.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + labs(title = \"The title appears here\",\n         subtitle = \"The subtitle appears here, slightly smaller\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n### Captions\n\nGive `labs()` a `caption` argument to add a caption. I like to use captions to cite my data source.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + labs(title = \"The title appears here\",\n         subtitle = \"The subtitle appears here, slightly smaller\",\n         caption = \"Captions appear at the bottom.\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n### Axis labels\n\nGive `labs()` `x` and `y` arguments to change the axis labels.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + labs(title = \"The title appears here\",\n         subtitle = \"The subtitle appears here, slightly smaller\",\n         caption = \"Captions appear at the bottom.\",\n         x = \"Diamond cut\",\n         y = \"Price\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n### Legend titles\n\nIf you've mapped a column to an aesthetic like `color`, `fill`, `linetype`, etc., you can change its label with `labs()` too:\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(diamonds) +\n  geom_boxplot(mapping = aes(x = cut, y = price, fill = cut)) +\n  labs(title = \"The title appears here\",\n         subtitle = \"The subtitle appears here, slightly smaller\",\n         caption = \"Captions appear at the bottom.\",\n         x = \"Diamond cut\",\n         y = \"Price\",\n         fill = \"Diamond cut\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n### Exercise 2: Labels\n\nPlot `p` with a set of informative labels. For learning purposes, be sure to use a title, subtitle, caption, and axis labels.\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\np\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\np + labs(title = \"Diamond prices by cut\",\n         subtitle = \"Fair cut diamonds fetch the highest median price. Why?\",\n         caption = \"Data collected by Hadley Wickham\")\n```\n\n:::\n\n\n###\n\nGood job! By the way, why *do* fair cut diamonds fetch the highest price?\n\n\n### Exercise 3: Carat size? \n\nPerhaps a diamond's cut is conflated with its carat size. If fair cut diamonds tend to be larger diamonds that would explain their larger prices. Let's test this.\n\nMake a plot that displays the relationship between carat size, price, and cut for all diamonds. How do you interpret the results? Give your plot a title, subtitle, and caption that explain the plot and convey your conclusions.\n\nIf you are looking for a way to start, I recommend using a smooth line with color mapped to cut, perhaps overlaid on the background data.\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\n\n\n\n```\n\n## {{< fa circle-check >}}&ensp;Solution\n\n```r\nggplot(data = diamonds, mapping = aes(x = carat, y = price)) +\n  geom_smooth(mapping = aes(color = cut), se = FALSE) + \n  labs(title = \"Carat size vs. Price\",\n       subtitle = \"Fair cut diamonds tend to be large, but they fetch the lowest prices for most carat sizes.\",\n       caption = \"Data by Hadley Wickham\")\n```\n\n:::\n\n###\n\nGood job! The plot corroborates our hypothesis.\n\n### `p1`\n\nUnlike `p`, our new plot uses color and has a legend. Let's save it to use later when we learn to customize colors and legends.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np1 <- ggplot(data = diamonds, mapping = aes(x = carat, y = price)) +\n  geom_smooth(mapping = aes(color = cut), se = FALSE) + \n  labs(title = \"Carat size vs. Price\",\n       subtitle = \"Fair cut diamonds tend to be large, but they fetch the lowest prices for most carat sizes.\",\n       caption = \"Data by Hadley Wickham\")\n```\n:::\n\n\n\n### `annotate()`\n\n`annotate()` provides a final way to label your graph: it adds a single geom to your plot. When you use `annotate()`, you must first choose which type of geom to add. Next, you must manually supply a value for each aesthetic required by the geom.\n\nSo for example, we could use `annotate()` to add text to our plot. \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np1 + annotate(\"text\", x = 4, y = 7500, label = \"There are no cheap,\\nlarge diamonds\")\n```\n\n::: {.cell-output-display}\n![](02-labels_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n\nNotice that I select `geom_text()` with `\"text\"`, the suffix of the function name in quotation marks.\n\n##\n\n\n\n::: {.cell layout-align=\"center\"}\n<section id=\"buttons\">\n<button id=\"continueButton\" class=\"btn btn-primary float-start me-2\">Continue</button>\n<a id=\"nextTopicButton\" class=\"btn btn-danger disabled\" href=\"03-themes.html\" role=\"button\">Next topic</a>\n<button id=\"resetButton\" class=\"btn btn-outline-warning btn-sm float-end\">Start over</button>\n</section>\n:::\n",
    "supporting": [
      "02-labels_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}